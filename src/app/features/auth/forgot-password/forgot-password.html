<div class="login-page">
  <div class="login-container">
    <!-- Curved Header -->
    <div class="login-header">
      <h1 class="login-title">Forgot Password</h1>
    </div>

    <!-- Login Form -->
    <div class="login-form-wrapper">
      <p>please enter your phone number to reset the password</p>
      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" novalidate>
        <!-- Phone Number Field -->
        <div class="form-group">
          <label for="phoneNumber" class="form-label">Phone Number</label>
          <div class="input-wrapper">
            <span class="input-icon">
              <i class="fas fa-phone"></i>
            </span>
            <input
              type="tel"
              id="phoneNumber"
              class="form-control"
              placeholder="Enter your Phone Number"
              formControlName="phoneNumber"
              (input)="onPhoneInput($event)"
              maxlength="15"
              [class.is-invalid]="phoneNumber?.invalid && (phoneNumber?.touched || isSubmitted())"
            />
          </div>

          <!-- Validation Messages -->
          @if (phoneNumber?.invalid && (phoneNumber?.touched || isSubmitted())) {
          <div class="validation-messages">
            @if (hasError('phoneNumber', 'required')) {
            <small class="text-danger">
              <i class="fa-solid fa-exclamation"></i>
              Phone number is required
            </small>
            } @if (hasError('phoneNumber', 'pattern') || hasError('phoneNumber', 'minLength')) {
            <small class="text-danger">
              <i class="fa-solid fa-exclamation"></i>
              Please enter a valid phone number (10-15 digits)
            </small>
            }
          </div>
          }
        </div>

        <!-- Login Button -->
        <button
          type="submit"
          class="btn btn-main"
          [disabled]="isLoading() || forgotPasswordForm.invalid"
          [ngClass]="{ 'btn-invalid': forgotPasswordForm.invalid }"
        >
          @if (isLoading()) {
          <span
            class="spinner-border spinner-border-sm me-2"
            role="status"
            aria-hidden="true"
          ></span>
          Confirm... } @else { Confirm }
        </button>
      </form>
    </div>
  </div>
</div>
